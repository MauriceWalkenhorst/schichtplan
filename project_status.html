<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walter Mitty | Task & Agent Status</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <meta http-equiv="refresh" content="30">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #0f172a; color: #f1f5f9; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .progress-bar { transition: width 1s ease-in-out; }
        .task-card { cursor: pointer; transition: all 0.3s ease; }
        .task-card:hover { background: rgba(255, 255, 255, 0.05); transform: translateY(-2px); }
        .pulse-emerald { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8" x-data="statusApp()">

    <div class="max-w-3xl mx-auto">
        <!-- Header -->
        <div class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-2xl font-bold text-white">Walter Status Monitor</h1>
                <p class="text-slate-400 text-sm">Echtzeit-Übersicht meiner Prozesse</p>
            </div>
            <div class="bg-blue-500/10 text-blue-400 px-3 py-1 rounded-full text-[10px] font-bold tracking-widest uppercase border border-blue-500/20 pulse-emerald">
                System Online
            </div>
        </div>

        <!-- Info Card Minimal (Vorschau) -->
        <div class="glass rounded-3xl p-6 mb-8 border-l-4 border-l-blue-500">
            <div class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-4">Smart Info-Preview</div>
            <div class="flex justify-between items-center">
                <div>
                    <div class="text-4xl font-black text-white">-2°C</div>
                    <div class="text-slate-400 text-xs">UCI Bochum · Frostig</div>
                </div>
                <div class="text-right">
                    <div class="text-xs font-bold text-blue-400 uppercase">Status: Aktiv</div>
                    <div class="text-slate-500 text-[10px] uppercase">Boxoffice Schicht läuft</div>
                </div>
            </div>
        </div>

        <!-- Task & Sub-Agents -->
        <div class="space-y-4">
            <div class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 px-2">Aktive Prozesse</div>
            
            <template x-for="(task, index) in tasks" :key="index">
                <div class="glass rounded-2xl p-5 border border-white/5 relative overflow-hidden task-card" @click="toggleTask(index)">
                    <div class="flex justify-between items-start mb-3 relative z-10">
                        <div>
                            <h3 class="font-bold text-white text-sm" x-text="task.name"></h3>
                            <p class="text-slate-400 text-[10px]" x-text="task.desc"></p>
                        </div>
                        <span :class="task.colorClass" class="text-xs font-black" x-text="task.progress + '%'"></span>
                    </div>
                    <div class="w-full bg-white/5 rounded-full h-1 relative z-10 mb-2">
                        <div class="progress-bar h-full rounded-full" :class="task.bgClass" :style="'width: ' + task.progress + '%'"></div>
                    </div>
                    
                    <!-- Detail View (Click to show) -->
                    <div x-show="task.expanded" x-transition class="mt-4 pt-4 border-t border-white/5 text-[10px] text-slate-400 space-y-2">
                        <div class="flex justify-between"><span>Status:</span> <span class="text-white" x-text="task.statusText"></span></div>
                        <div class="flex justify-between"><span>Startzeit:</span> <span class="text-white" x-text="task.startTime"></span></div>
                        <div class="flex justify-between"><span>Sub-Agent:</span> <span class="text-white" x-text="task.agent"></span></div>
                        <p class="mt-2 italic text-slate-300" x-text="task.longDesc"></p>
                    </div>
                </div>
            </template>
        </div>

        <!-- Footer -->
        <div class="mt-8 text-center">
            <a href="index.html" class="text-slate-500 hover:text-white text-xs transition-colors">
                <i class="fas fa-arrow-left mr-1"></i> Zurück zum Haupt-Dashboard
            </a>
        </div>
    </div>

    <script>
        function statusApp() {
            return {
                tasks: [
                    {
                        name: "System-Bereinigung",
                        desc: "Archivierung großer Sitzungsdaten zur Performance-Steigerung.",
                        longDesc: "Das Gedächtnis wurde zu groß (>700k Tokens). Ich bereinige den Cache, um API-Fehler bei Telegram zu verhindern. Alles Wichtige ist in MEMORY.md gesichert.",
                        progress: 100,
                        colorClass: "text-emerald-400",
                        bgClass: "bg-emerald-500 shadow-[0_0_10px_#10b981]",
                        statusText: "Abgeschlossen",
                        startTime: "11:21 UTC",
                        agent: "Main",
                        expanded: false
                    }
                ],
                toggleTask(index) {
                    this.tasks[index].expanded = !this.tasks[index].expanded;
                },
                init() {
                    // Simuliere leichtes Wachstum für den Live-Effekt im Browser
                    setInterval(() => {
                        this.tasks.forEach(t => {
                            if (t.progress < 99) {
                                t.progress += Math.random() > 0.6 ? 1 : 0;
                            }
                        });
                    }, 4000);
                }
            }
        }
    </script>
</body>
</html>
